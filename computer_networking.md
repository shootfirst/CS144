# 计算机网络

## 概述

#### 协议分层

##### 7层iso，osi参考模型

应用层、表示层、会话层、传输层、网络层、数据链路层、物理层

##### 5层因特网协议栈

应用层、传输层、网络层、数据链路层、物理层

应用层位于用户态，而传输层、网络层和部分数据链路层位于内核态，部分数据链路层和物理层为硬件

#### 网络和网络中的网络

分层：接入isp、区域isp、第一层isp


## 应用层

网络应用是计算机网络存在的理由


#### HTTP超文本传输协议

80号端口，基于tcp

+ 持续连接

+ 非持续连接

##### http请求报文

##### http响应报文

##### 方法字段

+ GET

+ POST

+ HEAD

+ PUT

+ DELETE

##### 状态码

+ 1xx 

+ 2xx

+ 3xx

+ 4xx

+ 5xx

##### http代理服务器


#### HTTPS


#### DNS域名系统

53号端口，在区域传输的时候使用TCP协议，其他时候使用UDP协议

##### 分级

+ 根dns服务器

+ 顶级域服务器

+ 权威dns服务器

+ 本地dns服务器

##### 查询

+ 递归

+ 迭代

##### dns缓存



## 传输层

#### UDP用户数据报协议

#### TCP传输控制协议

##### 可靠传输

+ 借助ack和seq两个字段确定，对于连接的双方，都维护着最近已确认的序列号

+ 从上层应用程序接收数据、超时、收到ack触发传送报文段

+ tcp保存已发送但未被接收的最小序列号和下一个要发送字节的序列号

+ 不采取回退n步或选择重传，tcp采取发送发送已发送但未被接收的最小序列号

##### 连接管理

+ 三次握手

+ 四次挥手

##### 超时重传

+ 超时

+ 快速重传：收到三个冗余ACK，意味着总共收到四个

##### 流量控制

+ 发送方维护winsize，这个由接收方发送表示自己接收方窗口大小

##### 拥塞控制

+ 慢启动

+ 拥塞避免

+ 快恢复



## 网络层

#### IP网际互连协议

##### IP地址

##### cider

##### 路由算法

##### OSPF

自治内部路由算法，基于链路状态算法(ls)

##### BGP

自治系统间路由选择协议，基于距离向量算法(dv)

#### 路由器


#### DHCP动态主机配置协议

67服务器，68客户端

##### discover message

##### offer message

##### request message

##### ack message


#### ICMP互连网控制消息协议


#### NAT网络地址转化协议







## 数据链路层

#### 多路访问链路和协议

##### 信道划分

##### 随机接入

##### 轮流协议

#### 局域网

##### ARP地址解析协议

##### 以太网

#### 网卡

![avatar](network_interface_card.png)

#### 链路层交换机

#### 物理层集线器


























